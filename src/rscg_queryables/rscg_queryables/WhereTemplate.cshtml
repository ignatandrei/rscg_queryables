@inherits RazorBlade.PlainTextTemplate<rscg_queryables.DataFromExposeClass>
@{
    string fullName = Model.FullName    ;
    var fullNameToBeUsed = Model.FullNameToBeUsed;
    var quote = '"';
    var strExpr = $"static System.Linq.Expressions.Expression < Func < {fullName},bool>>";
    
}
//------------------------------------------------------------------------------
// <auto-generated>
//       
//     This code was generated by a tool :@Generated.rscg_queryables.TheAssemblyInfo.AssemblyName
//     Runtime Version: @Generated.rscg_queryables.TheAssemblyInfo.GeneratedNameNice
//     DateOfTool : @Generated.rscg_queryables.TheAssemblyInfo.DateGeneratedUTC.ToString("yyyy-MM-dd HH:mm:ss")
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
//pragma warning disable CS1591
/// <summary>
/// Provides extension methods for creating expressions and functions to filter @Model.FullName objects.
/// </summary>
[global::System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverage]
[global::System.CodeDom.Compiler.GeneratedCode("GeneratorName","@Generated.rscg_queryables.TheAssemblyInfo.DateGeneratedUTC.ToString("yyyy.1MMdd.1HHmm.1ss")")]
public static class ExtensionsWhere_@(fullNameToBeUsed){
    
@foreach(var item in Model.PropertiesGetWithType)
{
    <text>

        internal @strExpr
        @(item.Item1)_Expr_Equal(@item.Item2 argument) => (a => a.@(item.Item1)== argument);

        internal static Func<@fullName,bool>
            @(item.Item1)_Equal(@item.Item2 argument) => (a => a.@(item.Item1)== argument);

        internal @strExpr
        @(item.Item1)_Expr_NotEqual(@item.Item2 argument) => (a => a.@(item.Item1) != argument);

        internal static Func<@fullName,bool>
                @(item.Item1)_NotEqual(@item.Item2 argument) => (a => a.@(item.Item1) != argument);

    </text>
}

   

}
/// <summary>
/// Provides extension methods for creating expressions and functions to filter @Model.FullName objects.
/// </summary>
public static class @(Model.Name)_{

@foreach (var item in Model.PropertiesGetGroupedAfterType)
{
    var propType = item.Key;
    <text>
        public static System.Linq.IQueryable<@Model.FullName>
            Where(this System.Linq.IQueryable<@Model.FullName> original,
                string propertyName,rscg_queryablesCommon.WhereOperator operatorWhere, @propType argument)
        {
            return original.Where(Where_Expr(propertyName, operatorWhere, argument));
        }
        public @strExpr
        Where_Expr(string propertyName,rscg_queryablesCommon.WhereOperator operatorWhere, @propType argument)
            {
            @foreach (var propName in item.Value)
            {
                <text>
                    if(string.Equals(propertyName,  @(quote + propName + quote), StringComparison.OrdinalIgnoreCase)){
                    switch(operatorWhere){
                    case rscg_queryablesCommon.WhereOperator.Equal:
                    return ExtensionsWhere_@(fullNameToBeUsed).@(propName)_Expr_Equal( argument);
                    case rscg_queryablesCommon.WhereOperator.NotEqual:
                    return ExtensionsWhere_@(fullNameToBeUsed).@(propName)_Expr_NotEqual( argument);
                    default:
                    throw new ArgumentException($"Operator {operatorWhere} not found");
                    }//end switch
                    }//end if @propName

                </text>

            }

            throw new ArgumentException("Property "+ propertyName +" not found for @propType type");
            }





        public static Func<@fullName,bool>
            Where(string propertyName,rscg_queryablesCommon.WhereOperator operatorWhere, @propType argument)
            {
            @foreach (var propName in item.Value)
            {
                <text>
                    if(string.Equals(propertyName,  @(quote + propName + quote), StringComparison.OrdinalIgnoreCase)){
                    switch(operatorWhere){
                    case rscg_queryablesCommon.WhereOperator.Equal:
                    return ExtensionsWhere_@(fullNameToBeUsed).@(propName)_Equal( argument);
                    case rscg_queryablesCommon.WhereOperator.NotEqual:
                    return ExtensionsWhere_@(fullNameToBeUsed).@(propName)_NotEqual( argument);
                    default:
                    throw new ArgumentException($"Operator {operatorWhere} not found");
                    }//end switch
                    }//end if @propName

                </text>

            }

            throw new ArgumentException("Property "+ propertyName +" not found for @propType type");
            }

    </text>
}


}
#pragma warning restore CS1591